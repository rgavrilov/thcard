@using System.Collections.Generic
@using System.Linq
@using System
@using System.Collections.Generic
@using System.Linq
@using THCard.Web.Controllers.Account.Models
@model SignUpViewModel

@{
	Layout = "~/Views/Shared/_PublicLayout.cshtml";
	ViewBag.Title = "Sign Up | Total Health Card";

	foreach (KeyValuePair<string, ModelState> modelState in Model.ModelState.Where(ms => ms.Value.Errors.Any())) {
		ViewData.ModelState.AddModelError(modelState.Key, modelState.Value.Errors.First().ErrorMessage);
	}
}

@{
	THCard.Web.AssetManager.RequireStyle("~/blah.css");
}

<h3>Create a New Account</h3>

@helper ErrorFor(string key) {
	ModelState value;
	if (ViewData.ModelState.TryGetValue(key, out value)) {
		<ul>
			@foreach (ModelError error in value.Errors) {
				<li>@error.ErrorMessage</li>
			}
		</ul>
	}
}

<form method="POST">
	
	<div class="field">
		<label for="name">First Name:</label>
		<input type="text" name="firstName" data-val="true" data-val-required="First name is required." value="@Guid.NewGuid().ToString()"/>
		<span data-valmsg-for="firstName" data-valmsg-replace="true"></span>
	</div>

	<div class="field">
		<label for="name">Last Name:</label>
		<input type="text" name="lastName" data-val="true" data-val-required="Last name is required." value="@Guid.NewGuid().ToString()"/>
		<span data-valmsg-for="lastName" data-valmsg-replace="true"></span>
	</div>

	<div class="field">
		<label for="name">Username:</label>
		<input type="text" name="username" data-val="true" data-val-required="Username is required." value="@Guid.NewGuid().ToString()"/>
		<span data-valmsg-for="username" data-valmsg-replace="true"></span>
	</div>

	<div class="field">
		<label for="name">Password:</label>
		<input type="password" name="password" data-val="true" data-val-required="Password is required." value="@Guid.NewGuid().ToString()"/>
		<span data-valmsg-for="password" data-valmsg-replace="true"></span>
	</div>
		
	<div class="field">
		<label for="name">Password Confirmation:</label>
		<input type="password" name="passwordConfirmation" data-val="true" data-val-required="Password is required." value="@Guid.NewGuid().ToString()"/>
		<span data-valmsg-for="password" data-valmsg-replace="true">@Html.ValidationMessage("passwordConfirmation")</span>
	</div>
		
	<button type="submit">Submit</button>
</form>


<script src="~/Scripts/jquery-1.8.2.js"> </script>
<script src="~/Scripts/jquery.validate.js"> </script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"> </script>